imports:
    - { resource : tags.yml }
    #- { resource : functions.yml }
    #- { resource : filters.yml }

parameters:
    twig.listener.constructor: conga-twig:twig
    twig.handler.constructor: conga-twig:twig

services:

    # the twig kernel listener
    twig.listener:
        constructor: %twig.listener.constructor%
        tags:
            - { name: kernel.event, event: kernel.compile, method: onKernelCompile }
            - { name: app.middleware, method: onAddMiddleware, priority: 1001 }

    # the twig handler service
    twig.handler:
        constructor: "%twig.handler.constructor%"
        arguments: []
        tags:
            - { name: app.view.configuration, method: onConfigureViewEngine }